---
title: "Proxmox - Initial Setup"
description: ""
author:
email:
faicon: fa-solid fa-server
date: 2025-02-08T11:12:57+01:00
publishDate: 2025-02-08T11:12:57+01:00
images: []
draft: false
showToc: true
tags: [proxmox]
summary: Why I switched from ESXi to Proxmox after the whole Broadcom takeover debacle.
cover:
    image: "/images/logo/proxmox-full-lockup-color.png"
    alt: "Proxmox"
    imageurl: "https://www.proxmox.com"
    showcredits: false
    relative: false
    hidden: false
---

# What is Proxmox?

[Proxmox Virtual Environment](https://www.proxmox.com/en/products/proxmox-virtual-environment/overview) (PVE, or simply Proxmox) is an excellent, lightweight virtualization platform designed for the provisioning of a Software-defined IT infrastructure.

Proxmox combines 2 powerful virtualization technologies, [Linux Containers (LXC)](https://linuxcontainers.org/) for lightweight virtualized environments and [KVM hypervisor](https://linux-kvm.org/page/Main_Page) for full system virtualization.

It has a simple, yet powerful, web UI and includes advanced features like support for [ACME SSL](https://letsencrypt.org/) certificates with DNS-01 support, software defined networking, Ceph distributed filesystem and high availability clustering allowing management of all nodes from within the same web UI on any of the nodes. Combine those features with the excellent Proxmox Backup Server (PBS) and it makes for an excellent virtualization platform for both enthusiasts and enterprise users alike.

# Why do I use Proxmox?

After the [ESXi debacle](https://arstechnica.com/information-technology/2024/02/broadcom-owned-vmware-kills-the-free-version-of-esxi-virtualization-software/) when [Broadcom](https://knowledge.broadcom.com/external/article/345098/end-of-general-availability-of-the-free.html) acquired VMware I decided I needed to find another Virtualization platform for homelabbing.

I own a real domain name, which is used exclusively for my home network, allowing me to assign legitimate ACME SSL certificates to my internal web servers. This removes all the headaches associated with self-signed certificates. Having ACME support out-of-the-box simplifies this process on all Proxmox servers, combined with Round-Robin on a generic Proxmox subdomain makes management of the Proxmox cluster incredibly clean and simple.

# My Proxmox Setup

I’m currently using 3 Proxmox servers, not because I really need 3 but mostly because I wanted to try out some of the clustering features.
It's worth noting that none of the systems are particularly taxed but I do like to separate the virtual systems running on each Proxmox node by category.

  - [SIF](/hardware/#sif) - Local AI/Media Services
  - [TYR](/hardware/#tyr) - NAS Services
  - [SYN](/hardware/#syn) - Self-hosted Services

Being able to manage all these servers from a single web interface is extremely useful.

I'm not currently using any of Proxmox's more advanced features like the [Ceph Distributed Filesystem](https://pve.proxmox.com/wiki/Deploy_Hyper-Converged_Ceph_Cluster) nor [SDN (Software Defined Networking)](https://pve.proxmox.com/wiki/Software-Defined_Network)

# My Setup Script

I’ve written a simple bash script to setup a Proxmox Virtualization or Backup server which I host on GitHub.

The script makes a few changes to the Proxmox server.

  - Enable IOMMU
  - Enable “No subscription” repositories.
  - Disable “Nag popup” in the web UI.
  - Install some additional software (lsscsi, btop, top, sync, iftop, lm-sensors, exa, nala, plocate)
  - Enable power saving features via powertop and AutoASPM scripts.
  - Update the CPU to the latest microcode.
  - Update firmware to latest available.
  - Add some crown entries to keep system up-to-date.
  - Add phpsysinfo to listen on HTTPS port 443. This can be updated to use an ACME SSL certificate generated by Proxmox via ‘setup-https’ script.
  - Add ‘starship’ support to bash.
  - Some QOL bash aliases.

To install this script on a freshly installed Proxmox server run the following command as root via ssh.

``` bash
bash -c "$(wget -qLO - https://github.com/alandoyle/proxmox-setup/raw/main/proxmox-setup)"
```

After a reboot the initial install is complete.

# Further Reading

Next up I’ve written a couple of follow-up articles.

  - [Updating Proxmox to use an ACME SSL certificate.](/blog/proxmox-letsencrypt-ssl-certificates/)
  - [Simple Proxmox post-install script.](/blog/proxmox-minimal-post-install-script/)

---

{{< notification title="Updates" >}}
  * 2025-07-24 - Re-worked install script to be more modular and to allow it to be re-run without causing issue.
  * 2025-04-01 - Updated with link to Simple Proxmox Cluster Setup Script blog entry.
  * 2025-03-01 - Updated with link to ACME SSL Proxmox blog entry.
{{< /notification >}}
